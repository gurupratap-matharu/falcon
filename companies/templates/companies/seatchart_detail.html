{% extends "layouts/base-company.html" %}

{% load static %}

{% block title %}
  {{ company.name }} | {{ seatchart }}
{% endblock title %}

{% block breadcrumb %}
  {{ company.name }}
{% endblock breadcrumb %}

{% block page_title %}
  {{ seatchart }}
{% endblock page_title %}

{% block content %}
  <div class="card">
    <div class="card-header my-0 pb-0">
      <a href="{{ company.get_seatchart_url }}" class="icon-move-left">
        <svg class="bi me-2" width="16" height="16" fill="currentColor" aria-hidden="true">
          <use xlink:href="{% static 'assets/icons/icons.svg' %}#chevron-left" />
        </svg>
        Back
      </a>
    </div>
    <div class="card-header text-center">
      <h5>{{ seatchart.title }}</h5>
      <div class="row mt-3">
        <div class="col-12 col-md-6 col-lg-4 mx-auto">
          <div class="nav-wrapper position-relative end-0">
            <ul class="nav nav-pills nav-fill p-1" role="tablist">
              <li class="nav-item">
                <a class="nav-link mb-0 px-0 py-1 active"
                   data-bs-toggle="tab"
                   href="#lower-floor"
                   role="tab"
                   aria-controls="lower-floor"
                   aria-selected="true">Lower Floor</a>
              </li>
              <li class="nav-item">
                <a class="nav-link mb-0 px-0 py-1"
                   data-bs-toggle="tab"
                   href="#upper-floor"
                   role="tab"
                   aria-controls="upper-floor"
                   aria-selected="false">Upper Floor</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="lower-floor" role="tabpanel" aria-labelledby="lower-floor-tab" tabindex="0">
          <div id="lowerseatchart"></div>
        </div>
        <div class="tab-pane fade" id="upper-floor" role="tabpanel" aria-labelledby="upper-floor-tab" tabindex="0">
          <div id="upperseatchart"></div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block js %}
  {{ seatchart.json|json_script:"options" }}
  <script type="text/javascript" src="{% static 'assets/js/seats/seatchart.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'assets/js/seats/seatmap.js' %}"></script>
{% endblock js %}
